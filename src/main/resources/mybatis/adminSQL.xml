<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin">
	<!-- 2019 Jan -->
	<select id="selectJanValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM MEMBER
		WHERE TO_CHAR(M_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectFebValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM MEMBER
		WHERE TO_CHAR(M_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190230'
	]]>
	</select>
	<select id="selectDecValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM MEMBER
		WHERE TO_CHAR(M_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM MEMBER
		WHERE TO_CHAR(M_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181130'
	]]>
	</select>
	<select id="selectOctValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM MEMBER
		WHERE TO_CHAR(M_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!-- 강의개설 수 -->
	<select id="selectJanLectureValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM L_OPEN
		WHERE TO_CHAR(L_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectFebLectureValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM L_OPEN
		WHERE TO_CHAR(L_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190230'
	]]>
	</select>
	<select id="selectDecLectureValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM L_OPEN
		WHERE TO_CHAR(L_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovLectureValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM L_OPEN
		WHERE TO_CHAR(L_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181130'
	]]>
	</select>
	<select id="selectOctLectureValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM L_OPEN
		WHERE TO_CHAR(L_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!-- 튜터 현황 -->
	<select id="selectJanTutorValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM TUTOR
		WHERE TO_CHAR(T_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectFebTutorValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM TUTOR
		WHERE TO_CHAR(T_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190230'
	]]>
	</select>
	<select id="selectDecTutorValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM TUTOR
		WHERE TO_CHAR(T_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovTutorValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM TUTOR
		WHERE TO_CHAR(T_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181130'
	]]>
	</select>
	<select id="selectOctTutorValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM TUTOR
		WHERE TO_CHAR(T_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!-- 결제 현황 -->
	<select id="selectJanPayValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectFebPayValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190230'
	]]>
	</select>
	<select id="selectDecPayValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovPayValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181130'
	]]>
	</select>
	<select id="selectOctPayValue" resultType="int">
	<![CDATA[
		SELECT COUNT(*)
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<select id="selectJanCostValue" resultType="int">
	<![CDATA[
		SELECT 
    		SUM(O_AMOUNT_TOTAL)  as total
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE, 'YYYYMMDD') BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectFebCostValue" resultType="int">
	<![CDATA[
		SELECT 
    		SUM(O_AMOUNT_TOTAL)  as total
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE, 'YYYYMMDD') BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<select id="selectDecCostValue" resultType="int">
	<![CDATA[
		SELECT 
    		SUM(O_AMOUNT_TOTAL)  as total
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE, 'YYYYMMDD') BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovCostValue" resultType="int">
	<![CDATA[
		SELECT 
    		SUM(O_AMOUNT_TOTAL)  as total
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE, 'YYYYMMDD') BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<select id="selectOctCostValue" resultType="int">
	<![CDATA[
		SELECT 
    		SUM(O_AMOUNT_TOTAL)  as total
		FROM KAKAOORDER
		WHERE O_DEL='Y' AND TO_CHAR(O_REGDATE, 'YYYYMMDD') BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!-- 카테고리 -->
	<select id="selectCaValue" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX  AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<select id="selectJanCaValue" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX  AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectDecCaValue" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX  AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectNovCaValue" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX  AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<select id="selectOctCaValue" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX  AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!--2월  -->
	<select id="selectCa1Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='컴퓨터' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<select id="selectCa2Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='외국어' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<select id="selectCa3Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='라이프스타일' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<select id="selectCa4Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='기타' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190201' AND '20190231'
	]]>
	</select>
	<!-- 1월 -->
	<select id="selectJanCa1Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='컴퓨터' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectJanCa2Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='외국어' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectJanCa3Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='라이프스타일' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<select id="selectJanCa4Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='기타' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20190101' AND '20190131'
	]]>
	</select>
	<!-- 12월 -->
	<select id="selectDecCa1Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='컴퓨터' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectDecCa2Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='외국어' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectDecCa3Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='라이프스타일' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<select id="selectDecCa4Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='기타' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181201' AND '20181231'
	]]>
	</select>
	<!-- 11월 -->
	<select id="selectNovCa1Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='컴퓨터' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<select id="selectNovCa2Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='외국어' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<select id="selectNovCa3Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='라이프스타일' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<select id="selectNovCa4Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='기타' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181101' AND '20181131'
	]]>
	</select>
	<!-- 10월 -->
	<select id="selectOctCa1Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='컴퓨터' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<select id="selectOctCa2Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='외국어' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<select id="selectOctCa3Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='라이프스타일' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<select id="selectOctCa4Value" resultType="int">
	<![CDATA[
		SELECT COUNT(C.CA_LSECTION)
		FROM REQUEST R, L_OPEN L,CATEGORY C
		WHERE R.L_NO = L.L_NO AND L.CA_IDX = C.CA_IDX AND C.CA_LSECTION='기타' AND TO_CHAR(R_REGDATE,'YYYYMMDD')
		BETWEEN '20181001' AND '20181031'
	]]>
	</select>
	<!-- 멤버 관련  -->
	
	<select id="selectMemberList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY M_NO DESC) RNUM,
			M_NO,
			M_NAME,
			M_EMAIL,
			M_BIRTH,
			M_PHONE,
			M_JOB,
			M_SEX,
			M_PHONEC
		FROM
			MEMBER
		WHERE
			M_TUTOR !='4'
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<select id="selectMemberDetail" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			*
		FROM
			MEMBER
		WHERE
			M_NO = #{M_NO}
	]]>
	</select>
	<update id="updateMember" parameterType="hashmap">
	<![CDATA[
		UPDATE MEMBER
		SET 
			M_EMAIL=#{M_EMAIL},
			M_PASSWD=#{M_PASSWD},
			M_PHONE=#{M_PHONE},
			M_JOB=#{M_JOB},
			M_SEX=#{M_SEX}
				
		WHERE
			M_NO = #{M_NO}
	]]>
	</update>
	<update id="deleteMember" parameterType="hashmap">
	<![CDATA[
		UPDATE MEMBER
		SET
			M_TUTOR = '4'
		WHERE
			M_NO = #{M_NO}
	]]>
	</update>
	
	<!-- 튜터 신청 관련 -->
	<select id="selectApplyList" parameterType="hashmap" resultType="hashmap"	>
	<include refid="common.pagingPre"/>
	
	<![CDATA[
		SELECT
			ROW_NUMBER() OVER (ORDER BY T_NO DESC) RNUM,
			T_NO,
			M_NO,
			T_NICK,
			T_FINALEDU,
			T_COLLEGE,
			T_DEPT,
			T_QUALIFICATION,
			T_CNAME0,
			T_CNAME1,
			T_CNAME2,
			T_CNAME3,
			T_CNAME4
		FROM
			TUTOR 
		WHERE
			T_PASS = 'P'
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<update id="permitRequest" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR
		SET
			T_PASS = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="cancelRequest" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR
		SET
			T_PASS='N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<!-- 인증된 튜터 관련  -->
	<select id="selectTutorList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[
		SELECT
			ROW_NUMBER() OVER (ORDER BY T_NO DESC) RNUM,
			T_NO,
			M_NO,
			T_NICK,
			T_FINALEDU,
			T_COLLEGE,
			T_DEPT,
			T_QUALIFICATION,
			T_CNAME0,
			T_CNAME1,
			T_CNAME2,
			T_CNAME3,
			T_CNAME4
			
		FROM
			TUTOR
		WHERE
			T_PASS = 'Y' 
			
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<!-- <select id="selectChkTutorList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[
		SELECT
			ROW_NUMBER() OVER (ORDER BY T.T_NO DESC) RNUM,
			T.T_NO,
			TCF.TF_CCHECK1,
			TCF.TF_CCHECK2,
			TCF.TF_CCHECK3,
			TCF.TF_CCHECK4,
			TCF.TF_CCHECK5,
			TF.TF_SCHECK,
			TF.TF_IDCHECK
		FROM
			TUTOR T,TUTOR_CFILE TCF, TUTOR_FILE TF
		WHERE
			T.T_PASS = 'Y' AND (T.T_NO = TCF.T_NO) AND(T.T_NO = TF.T_NO) 
			
	]]>
	<include refid="common.pagingPost"/>
	</select> -->
	<!-- <select id="selectTutorList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[
		SELECT
			ROW_NUMBER() OVER (ORDER BY T.T_NO DESC) RNUM,
			T.T_NO,
			T.M_NO,
			T.T_NICK,
			T.T_FINALEDU,
			T.T_COLLEGE,
			T.T_DEPT,
			T.T_QUALIFICATION,
			T.T_CNAME0,
			T.T_CNAME1,
			T.T_CNAME2,
			T.T_CNAME3,
			T.T_CNAME4,
			TCF.TF_CCHECK1,
			TCF.TF_CCHECK2,
			TCF.TF_CCHECK3,
			TCF.TF_CCHECK4,
			TCF.TF_CCHECK5,
			TF.TF_SCHECK,
			TF.TF_IDCHECK
		FROM
			TUTOR T, TUTOR_CFILE TCF, TUTOR_FILE TF
		WHERE
			T.T_PASS = 'Y'  AND (T.T_NO = TCF.T_NO) AND(T.T_NO = TF.T_NO) 
			
	]]> 
	<include refid="common.pagingPost"/>
	</select>-->
	<select id ="selectTutorCheck1" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			TF_CCHECK1,TF_CCHECK2,TF_CCHECK3,TF_CCHECK4,TF_CCHECK5
		FROM
			TUTOR_CFILE
		
	]]>
	</select>
	<select id ="selectTutorCheck2" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			count(*)
		FROM
			TUTOR_CFILE
		where
			T_NO=#{T_NO} AND TF_CCHECK2='N'
	]]>
	</select>
	<select id ="selectTutorCheck3" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			count(*)
		FROM
			TUTOR_CFILE
		where
			T_NO=#{T_NO} AND TF_CCHECK3='N'
	]]>
	</select>
	<select id ="selectTutorCheck4" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			count(*)
		FROM
			TUTOR_CFILE
		where
			T_NO=#{T_NO} AND TF_CCHECK4='N'
	]]>
	</select><select id ="selectTutorCheck5" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			count(*)
		FROM
			TUTOR_CFILE
		where
			T_NO=#{T_NO} AND TF_CCHECK5='N'
	]]>
	</select>
	<update id="deleteTutor" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR
		SET
			T_PASS='P'
		WHERE
		 T_NO = #{T_NO}
	]]>
	</update>
	<select id="selectTutorDetail" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			Q.T_NO,
			Q.T_FINALEDU,
	      	Q.T_CNAME0,
	      	Q.T_CNAME1,
	      	Q.T_CNAME2,
	      	Q.T_CNAME3,
	      	Q.T_CNAME4,
	      	TF.TF_ORIGINPROFILE,
	      	TF.TF_STOREDPROFILE,
	      	TF.TF_SCERTORIGIN,
	      	TF.TF_SCERTSTORED,
	      	TF.TF_IDORIGINFILE,
	      	TF.TF_IDSTOREDFILE,
	      	TF.TF_SCHECK,
	      	TF.TF_IDCHECK,
	      	CF.TF_C_ORIGINFILE1,
	      	CF.TF_C_ORIGINFILE2,
	      	CF.TF_C_ORIGINFILE3,
	      	CF.TF_C_ORIGINFILE4,
	      	CF.TF_C_ORIGINFILE5,
	      	CF.TF_CCHECK1,
	      	CF.TF_CCHECK2,
	      	CF.TF_CCHECK3,
	      	CF.TF_CCHECK4,
	      	CF.TF_CCHECK5
		FROM
			TUTOR Q , TUTOR_FILE TF , TUTOR_CFILE CF
		WHERE
			 Q.T_NO=#{T_NO} AND Q.T_NO = TF.T_NO AND Q.T_NO = CF.T_NO 	
	]]>
	</select>
	<!-- TUTOR Q INNER JOIN TUTOR_FILE TF ON Q.T_NO = TF.T_NO
              		INNER JOIN TUTOR_CFILE CF ON Q.T_NO = CF.T_NO
     			 	AND Q.T_NO = #{T_NO} -->
     			 	
    <update id="permitId" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_FILE
		SET
			TF_IDCHECK = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectId" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_FILE
		SET
			TF_IDCHECK = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="permitCol" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_FILE
		SET
			TF_SCHECK = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCol" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_FILE
		SET
			TF_SCHECK = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="permitCerti1" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK1 = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCerti1" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK1 = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="permitCerti2" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK2 = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCerti2" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK2 = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>  
	<update id="permitCerti3" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK3 = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCerti3" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK3 = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>  
	<update id="permitCerti4" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK4 = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCerti4" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK4 = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>  
	<update id="permitCerti5" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK5 = 'Y'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>
	<update id="rejectCerti5" parameterType="hashmap">
	<![CDATA[
		UPDATE TUTOR_CFILE
		SET
			TF_CCHECK5 = 'N'
		WHERE
			T_NO = #{T_NO}
	]]>
	</update>  
	   			 	
	<!-- 글 카테고리 관련 -->
	<select id="selectCategoryList" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			CA_NO,
			CA_LSECTION,
			CA_SSECTION,
			CA_IDX
		FROM
			CATEGORY
		WHERE
			CA_DEL = 'N' ORDER BY CA_NO ASC
		
	]]>
	</select>
	<!-- 카테고리 입력시 가져오는 가증 큰 번호들 -->
	<select id="selectOneMaxValue" resultType="string">
		<![CDATA[
			SELECT
				CA_NO
			FROM 
    			(SELECT CA_NO
      			 FROM CATEGORY
      			 WHERE CA_NO LIKE'1-%' ORDER BY CA_NO desc )
			WHERE ROWNUM = 1
		]]>
	</select>
	<select id="selectTwoMaxValue" resultType="string">
		<![CDATA[
			SELECT
				CA_NO
			FROM 
    			(SELECT CA_NO
      			 FROM CATEGORY
      			 WHERE CA_NO LIKE'2-%' ORDER BY CA_NO desc )
			WHERE ROWNUM = 1
		]]>
	</select>
	<select id="selectThreeMaxValue" resultType="string">
		<![CDATA[
			SELECT
				CA_NO
			FROM 
    			(SELECT CA_NO
      			 FROM CATEGORY
      			 WHERE CA_NO LIKE'3-%' ORDER BY CA_NO desc )
			WHERE ROWNUM = 1
		]]>
	</select>
	<select id="selectFourMaxValue" resultType="string">
		<![CDATA[
			SELECT
				CA_NO
			FROM 
    			(SELECT CA_NO
      			 FROM CATEGORY
      			 WHERE CA_NO LIKE'4-%' ORDER BY CA_NO desc )
			WHERE ROWNUM = 1
		]]>
	</select>
	
	<insert id="insertCategory" parameterType="hashmap" >
	<![CDATA[
		INSERT INTO CATEGORY
		(
			CA_IDX,
			CA_NO,
			CA_LSECTION,
			CA_SSECTION,
			CA_DEL
		)
		VALUES
		(
			CA_NO_SEQ.NEXTVAL,
			#{CA_NO},
			#{CA_LSECTION},
			#{CA_SSECTION},
			'N'
		)
	]]>
	</insert>
	<select id="selectCategoryDetail" parameterType="hashmap" resultType="hashmap">
	<![CDATA[
		SELECT
			CA_LSECTION, CA_SSECTION, CA_IDX
		FROM
			CATEGORY
		WHERE
			CA_IDX = #{CA_IDX,jdbcType=INTEGER}
	]]>
	</select>
	<update id="deleteCategory" parameterType="hashmap">
	<![CDATA[
		UPDATE CATEGORY
			SET CA_DEL = 'Y'
			WHERE CA_IDX = #{CA_IDX}
	
	]]>
	</update>
	<update id="updateLectureChk" parameterType="hashmap">
	<![CDATA[
		UPDATE L_OPEN
			SET L_CHK = 'Y'
			WHERE CA_IDX = #{CA_IDX}
		
	]]>
	
	</update>
	<update id="modifyCategory" parameterType="hashmap">
	<![CDATA[
		UPDATE CATEGORY
			SET CA_NO = #{CA_NO},
			CA_SSECTION = #{CA_SSECTION},
			CA_LSECTION = #{CA_LSECTION}
				
		WHERE CA_IDX = #{CA_IDX}
	]]>
	</update>

	<!-- 강의 관련 -->
	<select id="selectLectureList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY L_NO DESC) RNUM,
			L_NO,
			M_NO,
			L_SUBJECT,
			L_CLASSTYPE,
			L_PRICEPH,
			L_TIMEPL,
			L_COUNTPM
		FROM
			L_OPEN
		WHERE
			L_CHK=#{L_CHK}
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<select id="selectComputerList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY L_NO DESC) RNUM,
			L_NO,
			M_NO,
			L_SUBJECT,
			L_CLASSTYPE,
			L_PRICEPH,
			L_TIMEPL,
			L_COUNTPM
		FROM
			L_OPEN
		WHERE
			L_CHK=#{L_CHK} AND (CA_IDX='50' OR CA_IDX='51' OR CA_IDX='52')
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<select id="selectLanguageList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY L_NO DESC) RNUM,
			L_NO,
			M_NO,
			L_SUBJECT,
			L_CLASSTYPE,
			L_PRICEPH,
			L_TIMEPL,
			L_COUNTPM
		FROM
			L_OPEN
		WHERE
			L_CHK=#{L_CHK} AND (CA_IDX='53' OR CA_IDX='54' OR CA_IDX='55')
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<select id="selectLifeList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY L_NO DESC) RNUM,
			L_NO,
			M_NO,
			L_SUBJECT,
			L_CLASSTYPE,
			L_PRICEPH,
			L_TIMEPL,
			L_COUNTPM
		FROM
			L_OPEN
		WHERE
			L_CHK=#{L_CHK} AND (CA_IDX='56' OR CA_IDX='57' OR CA_IDX='58')
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<select id="selectEtcList" parameterType="hashmap" resultType="hashmap">
	<include refid="common.pagingPre"/>
	<![CDATA[	
		SELECT
			ROW_NUMBER() OVER (ORDER BY L_NO DESC) RNUM,
			L_NO,
			M_NO,
			L_SUBJECT,
			L_CLASSTYPE,
			L_PRICEPH,
			L_TIMEPL,
			L_COUNTPM
		FROM
			L_OPEN
		WHERE
			L_CHK=#{L_CHK} AND (CA_IDX='59' OR CA_IDX='60' OR CA_IDX='61')
	]]>
	<include refid="common.pagingPost"/>
	</select>
	<update id="updateLecture" parameterType="hashmap">
	<![CDATA[
		UPDATE CATEGORY
			SET CA_DEL = 'Y'
			WHERE CA_NO = #{CA_NO}
	
	]]>
	</update>
	<!-- 파일 관련 손을 더 봐야한다. -->
	<select id="selectFileList" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			SELECT
				LF_NO,
				LF_CURRI_ORIGINFILE,
				LF_COVER_ORIGINFILE,
				LF_STUDY_ORIGINFILE
			FROM
				L_OPEN_FILE
			WHERE
				LF_NO = #{LF_NO}
		]]>
	</select>
	<insert id="insertFile" parameterType="hashmap">
	<![CDATA[
		INSERT INTO L_OPEN_FILE
		(
			LF_NO,
			L_NO,
			LF_CURRI_ORIGINALFILE,
			LF_CURRI_STOREDFILE,
			LF_COVER_ORIGINALFILE,
			LF_COVER_STOREDFILE,
			LF_STUDY_ORIGINALFILE,
			LF_STUDY_STOREDFILE
		)
		VALUES
		(
			SEQ_LF_NO.NEXTVAL,
			#{L_NO},
			#{LF_CURRI_ORIGINALFILE},
			#{LF_CURRI_STOREDFILE},
			#{LF_COVER_ORIGINALFILE},
			#{LF_COVER_STOREDFILE},
			#{LF_STUDY_ORIGINALFILE},
			#{LF_STUDY_STOREDFILE}
		)
	]]>
	</insert>
	<update id="updateFile" parameterType="hashmap">
	<![CDATA[
		UPDATE L_OPEN_FILE
			
		WHERE
			LF_NO = #{LF_NO}
	]]>
	</update>
	<select id="selectOneReserve" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			select * from L_OPEN
			WHERE L_NO = '46'
		]]>
	</select>
	<select id="selectRequestName" resultType="String">
		<![CDATA[
			SELECT NAME
			FROM L_OPEN 	
			WHERE
				L_NO = (
						SELECT L_NO
						FROM REQUEST
						WHERE R_NO=#{R_NO}
					    )
				
		]]>
	</select>
	
	<insert id="insertPayInfo" parameterType="hashmap" >
	<selectKey keyProperty="O_IDX" resultType="string" order="BEFORE">
      SELECT KO_NO_SEQ.NEXTVAL FROM DUAL
   </selectKey>
	<![CDATA[
		INSERT INTO KAKAOORDER
		(
			O_IDX,
 			O_TID,
			O_CID,
			O_STATUS,
			O_PARTNER_ID,
			O_PARTNER_USER_ID,
			O_PAYMENT_METHOD_TYPE,
			O_ITEM_NAME,
			O_QUANTITY,
			O_AMOUNT_TOTAL,
			O_AMOUNT_VAT,
			O_CANCELAVAILABLE_TOTAL,
			O_CANCELAVAILABLE_VAT,
			O_CREATED_AT,
			O_CARD_BIN,
			O_CARD_CORP_NAME,
			O_INSTALL_MONTH,
			L_NO,
			O_PG_TOKEN
		)
		VALUES
		(
			#{O_IDX},
 			#{O_TID},
			#{O_CID},
			#{O_STATUS},
			#{O_PARTNER_ID},
			#{O_PARTNER_USER_ID},
			#{O_PAYMENT_METHOD_TYPE},
			#{O_ITEM_NAME},
			#{O_QUANTITY},
			#{O_AMOUNT_TOTAL},
			#{O_AMOUNT_VAT},
			#{O_CANCELAVAILABLE_TOTAL},
			#{O_CANCELAVAILABLE_VAT},
			#{O_CREATED_AT},
			#{O_CARD_BIN},
			#{O_CARD_CORP_NAME},
			#{O_INSTALL_MONTH},
			#{L_NO},
			#{O_PG_TOKEN}
		)
	]]>
	</insert>
	 <select id="selectOneKakaoInfo" parameterType="hashmap" resultType="hashmap">
      <![CDATA[
         SELECT 
         	*
         FROM 
         	KAKAOORDER
         WHERE
         	O_IDX = #{O_IDX}
      ]]>
   </select>
   
   <select id="selectPayList" parameterType ="hashmap" resultType="hashmap">
   	<![CDATA[
   		SELECT
   			*
   		FROM
   			KAKAOORDER
   		WHERE
   			O_DEL = 'N'
   	]]>
   </select>
   
   <select id="selectApproveList" parameterType ="hashmap" resultType="hashmap">
   	<![CDATA[
   		SELECT
   			*
   		FROM
   			KAKAOORDER
   		WHERE
   			O_DEL = 'Y'
   	]]>
   </select>
   <select id="selectCancelList" parameterType ="hashmap" resultType="hashmap">
   	<![CDATA[
   		SELECT
   			*
   		FROM
   			KAKAOORDER
   		WHERE
   			O_R_DEL = 'Y'
   	]]>
   </select>
   
   <update id="updatePaySuccess" parameterType="hashmap">
   <![CDATA[
      UPDATE KAKAOORDER
         SET 
         	O_DEL = 'Y',
         	O_REGDATE = SYSDATE
         WHERE O_IDX = #{O_IDX}
   ]]>
   </update>
   
   <update id="updatePayCancel" parameterType="hashmap">
   <![CDATA[
      UPDATE KAKAOORDER
         SET O_R_DEL = 'C',
         	 O_DEL='C'
         WHERE O_IDX = #{O_IDX}
   ]]>
   </update>
</mapper>